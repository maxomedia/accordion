!function(t,n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):t.accordion=n(t.jQuery)}(this,function(t){var n,e,o,i,a,i,r,c={duration:300,easing:""};n=function(){var n=this;this.$content,this.$toggler,this.group,this.id,this.state,this.settings,this.updateState=function(){n.$content.attr("data-accordion-state",n.state),n.$toggler.attr("data-accordion-state",n.state)},this.triggerEvents=function(){n.$content.trigger("accordion."+n.state),n.$toggler.trigger("accordion."+n.state)},this.open=function(){var e,o=a(n.$content.children());if(e=function(){n.state="closed",n.updateState(),n.$content.css("height",""),n.triggerEvents()},n.group){var i=t('[data-accordion-group="{0}"]'.acc.group);i.each(function(n,e){t(e).data("accordion").close()})}"css"===g?($content.css("height",o),$content.one(s,e)):"jquery"===g?$content.animate({height:o},n.settings.duration,n.settings.easing,e):e()},this.close=function(){var t,e=a(n.$content.children());t=function(){n.state="closed",n.updateState(),n.triggerEvents()},n.$content.css("height",e),n.$content.outerHeight(),n.state="closing",n.updateState(),n.triggerEvents(),"css"===g?(n.$content.css("height",0),n.$content.one(s,t)):"jquery"===g?n.$content.animate({height:0},n.settings.duration,n.settings.easing,t):(n.$content.css("height",0),t())},this.toggle=function(t){"open"===n.state?n.close(t):n.open(t)},this.sync=function(){n.state=n.$content.attr("data-accordion-state"),n.state||(n.state="closed"),n.$toggler.attr("data-accordion-state",n.state)}},e=function(e){var o=t.extend({},c,e),i=t(this),a=i.data("accordion-content"),r=i.data("accordion-group"),s=t('[data-accordion-toggler="{0}"]'.compose(a));if(0!=i.length&&0!=s.length&&a){var g=new n;g.$content=i,g.$toggler=s,g.id=a,g.settings=o,g.group=r?r:void 0,g.sync(),i.data("accordion",g)}},o=function(){t(document).on("click","[data-accordion-toggler]",function(n){var o=t(n.currentTarget),i=o.data("accordion");if(!i){var a=o.data("accordion-toggler"),r='[data-accordion-content="{0}"]'.compose(a);e(0,t(r))}i.toggle(n)})},a=function(n){var e=0;return n.length<=0?e:(n.each(function(){var n=t(this);n.is(":visible")&&(e+=t(this).outerHeight(!0))}),e)},i=function(){return s()?"css":"function"==typeof t.fn.animate?"jquery":"none"},r=function(){var t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var e in n)if(void 0!==t.style[e])return{end:n[e]};return""},Array.prototype.isArray=!0,String.prototype.compose=function(t){var n=this,e=t.isArray?t:arguments;if(e.length>0)var o=e.length,i=/\{(\d+)\}/g,n=n.replace(i,function(t,n){return o>n?e[n]:t});return n};var s=r(),g=i();t.fn.extend({accordion:function(n){return this.each(function(){e.apply(t(this),[n])}),this}})});